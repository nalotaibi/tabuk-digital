<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†Ø¨Ù‡ Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ - Ø±Ù‚Ù…ÙŠØ© ØªØ¨ÙˆÙƒ</title>

<style>
:root {
    --primary: #1d5c41;
    --safe: #22c55e;
    --warning: #f59e0b;
    --danger: #ef4444;
    --badge-bg: #e8f5e9;
    --badge-text: #2e7d32;
    --gray: #718096;
}

body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.glass-card {
    background: #f0f4f8; 
    border-radius: 32px;
    padding: 30px;
    width: 90%;
    max-width: 420px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.1);
    border: 1px solid #d1d9e6;
}

.app-header-centered { text-align: center; margin-bottom: 25px; }
.college-logo img { width: 140px; margin-bottom: 10px; }
.header-text h1 { margin: 5px 0; font-size: 1.5rem; color: var(--primary); font-weight: 800; }

.system-badge {
    display: inline-block;
    padding: 4px 14px;
    background-color: var(--badge-bg);
    color: var(--badge-text);
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
}

.form-group { text-align: center; margin-bottom: 15px; }
.form-group label { font-size: 0.85rem; font-weight: 600; color: #4a5568; margin-bottom: 8px; display:block;}

.absent-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }

input, select { 
    width: 100%; 
    padding: 12px 20px;
    border: 1.5px solid #d1d9e6; 
    border-radius: 14px; 
    font-size: 0.95rem; 
    box-sizing: border-box; 
    outline: none; 
    text-align: center;
}

.reset-btn {
    width: 100%; padding: 10px; margin-top: 5px;
    background: transparent; color: var(--gray);
    border: 1px dashed var(--gray);
    border-radius: 12px; cursor: pointer;
    font-size: 0.8rem; font-weight: 600;
}

.result-display { border-radius: 24px; padding: 25px; text-align: center; margin-top: 10px; }
.safe-mode { background: rgba(255,255,255,0.7); }
.warning-mode { background: #fff9e6; }
.danger-mode { background: #fff5f5; }

.main-metric h2 { font-size: 2.2rem; margin: 10px 0; color: var(--primary); }

.progress-track { background: #e2e8f0; height: 10px; border-radius: 10px; overflow: hidden; margin-top: 10px; }
.progress-thumb { height: 100%; width: 0%; transition: 1s ease-in-out; }

.app-footer { margin-top: 25px; padding-top: 15px; border-top: 1px solid #d1d9e6; text-align: center; font-size: 0.8rem; }
</style>
</head>

<body>
<div class="glass-card">

<header class="app-header-centered">
    <div class="college-logo">
        <img src="IMG_1800.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¤Ø³Ø³Ø©">
    </div>
    <h1>Ù…Ù†Ø¨Ù‡ Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ</h1>
    <span class="system-badge">Ù†Ø¸Ø§Ù… 16 Ø£Ø³Ø¨ÙˆØ¹ (20%)</span>
</header>

<div class="form-group">
    <label>Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‚Ø±Ø± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</label>
    <select id="courseHours" onchange="calculate()">
        <option value="1">1 Ø³Ø§Ø¹Ø©</option>
        <option value="2">2 Ø³Ø§Ø¹Ø©</option>
        <option value="3">3 Ø³Ø§Ø¹Ø§Øª</option>
        <option value="4" selected>4 Ø³Ø§Ø¹Ø§Øª</option>
        <option value="5">5 Ø³Ø§Ø¹Ø§Øª</option>
        <option value="6">6 Ø³Ø§Ø¹Ø§Øª</option>
    </select>
</div>

<div class="absent-grid">
    <div>
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø§Ù„ØºØ§Ø¦Ø¨Ø© (Ø³Ø§Ø¹Ø©)</label>
        <input type="text" id="count1" oninput="fixArabicNumbers(this)">
    </div>
    <div>
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø§Ù„ØºØ§Ø¦Ø¨Ø© (Ø³Ø§Ø¹ØªÙŠÙ†)</label>
        <input type="text" id="count2" oninput="fixArabicNumbers(this)">
    </div>
</div>

<button class="reset-btn" onclick="resetApp()">â†º Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>

<div id="statusBox" class="result-display safe-mode">
    <div class="main-metric">
        <span>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø±Ù…Ø§Ù†</span>
        <h2 id="leftRes">--</h2>
    </div>

    <div style="display:flex; justify-content:space-around; margin:15px 0;">
        <div>Ù†Ø³Ø¨Ø© Ø§Ù„ØºÙŠØ§Ø¨<br><b id="percentRes">0%</b></div>
        <div>Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØºÙŠØ§Ø¨<br><b id="hoursRes">0</b></div>
    </div>

    <div>Ù…Ø¤Ø´Ø± Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ø§Ù„Ø­Ø±Ù…Ø§Ù† <span id="limitHours"></span></div>
    <div class="progress-track"><div id="progressBar" class="progress-thumb"></div></div>

    <div id="extraInfo" style="margin-top:15px;font-size:0.85rem"></div>

    <button onclick="toggleExplain()" style="margin-top:8px;background:none;border:none;color:var(--primary);font-weight:600;cursor:pointer">
        ğŸ” ÙƒÙŠÙ ØªÙ… Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ
    </button>
    <div id="explainBox" style="display:none;font-size:0.75rem;color:#64748b;margin-top:8px">
        Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„ØºÙŠØ§Ø¨ = Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ã— 16 Ø£Ø³Ø¨ÙˆØ¹ Ã— 20Ùª
    </div>
</div>

<footer class="app-footer">
Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØµÙ…ÙŠÙ…: Ø£. Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø«Ø§Ù…ÙŠ<br>
Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª | 1447Ù‡Ù€ - 2026Ù…
</footer>

</div>

<script>
function fixArabicNumbers(el) {
    const map = {'Ù ':'0','Ù¡':'1','Ù¢':'2','Ù£':'3','Ù¤':'4','Ù¥':'5','Ù¦':'6','Ù§':'7','Ù¨':'8','Ù©':'9'};
    el.value = el.value.replace(/[Ù -Ù©]/g, d => map[d]).replace(/[^\d]/g,'');
    calculate();
}

function resetApp() {
    count1.value = '';
    count2.value = '';
    courseHours.value = 4;
    calculate();
}

function toggleExplain(){
    explainBox.style.display = explainBox.style.display === "none" ? "block" : "none";
}

function calculate() {
    const hoursInPlan = parseInt(courseHours.value);
    const c1 = parseFloat(count1.value) || 0;
    const c2 = parseFloat(count2.value) || 0;

    const actualAbsentHours = (c1) + (c2 * 2);
    const totalSemesterHours = hoursInPlan * 16;
    const limitHours = totalSemesterHours * 0.20;
    const percent = (actualAbsentHours / totalSemesterHours) * 100;
    const remaining = limitHours - actualAbsentHours;

    percentRes.innerText = percent.toFixed(1) + "%";
    hoursRes.innerText = actualAbsentHours;
    limitHoursEl = document.getElementById("limitHours");
    limitHoursEl.innerText = `(Ø§Ù„Ø­Ø¯ ${limitHours.toFixed(1)} Ø³)`;

    progressBar.style.width = Math.min((actualAbsentHours/limitHours)*100,100) + "%";

    let msg="";
    if(actualAbsentHours >= limitHours){
        leftRes.innerText="ğŸš« Ø­Ø±Ù…Ø§Ù†";
        progressBar.style.background="var(--danger)";
        statusBox.className="result-display danger-mode";
        msg="ØªØ¬Ø§ÙˆØ²ØªÙ Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­.";
    }
    else{
        leftRes.innerText=remaining.toFixed(1)+" Ø³Ø§Ø¹Ø©";
        if(percent>=18){
            progressBar.style.background="var(--danger)";
            statusBox.className="result-display danger-mode";
            msg="ğŸš¨ ØªÙ†Ø¨ÙŠÙ‡ Ù…Ø¨ÙƒØ±: ØºÙŠØ§Ø¨ Ø¥Ø¶Ø§ÙÙŠ ÙŠØ¹Ø±Ø¶Ùƒ Ù„Ù„Ø­Ø±Ù…Ø§Ù†";
        }
        else if(percent>=15){
            progressBar.style.background="var(--warning)";
            statusBox.className="result-display warning-mode";
            msg="âš ï¸ Ø§Ù‚ØªØ±Ø¨ØªÙ Ù…Ù† Ø­Ø¯ Ø§Ù„Ø­Ø±Ù…Ø§Ù†";
        }
        else{
            progressBar.style.background="var(--safe)";
            statusBox.className="result-display safe-mode";
            msg="ÙˆØ¶Ø¹Ùƒ Ù…Ø·Ù…Ø¦Ù†";
        }
    }

    extraInfo.innerHTML = `${msg}<br>
    ÙŠÙ…ÙƒÙ†ÙƒÙ Ø§Ù„ØºÙŠØ§Ø¨ <b>${Math.floor(remaining)}</b> Ù…Ø­Ø§Ø¶Ø±Ø© (Ø³Ø§Ø¹Ø©)<br>
    Ø£Ùˆ <b>${Math.floor(remaining/2)}</b> Ù…Ø­Ø§Ø¶Ø±Ø© (Ø³Ø§Ø¹ØªÙŠÙ†)`;
}

window.onload = calculate;
</script>
</body>
</html>