<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†Ø¨Ù‡ Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ</title>

<style>
:root {
    --primary: #1d5c41;
    --safe: #22c55e;      /* Ø£Ø®Ø¶Ø± */
    --warning: #facc15;   /* Ø£ØµÙØ± */
    --orange: #fb923c;    /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
    --danger: #ef4444;    /* Ø£Ø­Ù…Ø± */
    --gray: #718096;
}

body {
    margin: 0;
    font-family: 'Segoe UI', Tahoma, sans-serif;
    background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.glass-card {
    background: #f0f4f8; 
    border-radius: 32px;
    padding: 30px;
    width: 90%;
    max-width: 420px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.1);
}

h1 { text-align:center; color:var(--primary); margin-bottom:5px; }
.system-badge { text-align:center; display:block; margin-bottom:15px; font-weight:bold; color:var(--primary); }

.form-group { text-align:center; margin-bottom:15px; }
label { font-size:0.85rem; font-weight:600; display:block; margin-bottom:6px; }

input, select {
    width:100%; padding:12px; border-radius:14px;
    border:1.5px solid #d1d9e6; text-align:center;
}

.absent-grid { display:grid; grid-template-columns:1fr 1fr; gap:15px; margin:15px 0; }

.reset-btn {
    width:100%; padding:10px; border-radius:12px;
    border:1px dashed var(--gray); background:none;
    margin-top:5px; cursor:pointer;
}

.result-display { border-radius:24px; padding:20px; margin-top:15px; text-align:center; }
.safe-mode { background:#ecfdf5; }
.warning-mode { background:#fef9c3; }
.danger-mode { background:#fee2e2; }

.progress-track { background:#e2e8f0; height:10px; border-radius:10px; overflow:hidden; margin-top:8px;}
.progress-thumb { height:100%; width:0%; transition:0.5s; }

footer { margin-top:20px; text-align:center; font-size:0.8rem; color:#475569;}
</style>
</head>

<body>
<div class="glass-card">

<h1>Ù…Ù†Ø¨Ù‡ Ø§Ù„ØºÙŠØ§Ø¨ Ø§Ù„Ø°ÙƒÙŠ</h1>
<span class="system-badge">Ù†Ø¸Ø§Ù… 16 Ø£Ø³Ø¨ÙˆØ¹ (20%)</span>

<div class="form-group">
<label>Ø¹Ø¯Ø¯ Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‚Ø±Ø± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</label>
<select id="courseHours" onchange="calculate()">
<option value="1">1 Ø³Ø§Ø¹Ø©</option>
<option value="2">2 Ø³Ø§Ø¹Ø©</option>
<option value="3">3 Ø³Ø§Ø¹Ø§Øª</option>
<option value="4" selected>4 Ø³Ø§Ø¹Ø§Øª</option>
<option value="5">5 Ø³Ø§Ø¹Ø§Øª</option>
<option value="6">6 Ø³Ø§Ø¹Ø§Øª</option>
</select>
</div>

<div class="absent-grid">
<div>
<label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø§Ù„ØºØ§Ø¦Ø¨Ø© (Ø³Ø§Ø¹Ø©)</label>
<input type="text" id="count1" oninput="fixArabicNumbers(this)">
</div>
<div>
<label>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø§Ù„ØºØ§Ø¦Ø¨Ø© (Ø³Ø§Ø¹ØªÙŠÙ†)</label>
<input type="text" id="count2" oninput="fixArabicNumbers(this)">
</div>
</div>

<button class="reset-btn" onclick="resetApp()">â†º Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>

<div id="statusBox" class="result-display safe-mode">
<h2 id="leftRes">--</h2>

<div style="display:flex; justify-content:space-around;">
<div>Ù†Ø³Ø¨Ø© Ø§Ù„ØºÙŠØ§Ø¨<br><b id="percentRes">0%</b></div>
<div>Ø³Ø§Ø¹Ø§Øª Ø§Ù„ØºÙŠØ§Ø¨<br><b id="hoursRes">0</b></div>
</div>

<div id="limitHours" style="margin-top:5px;font-size:0.8rem"></div>
<div class="progress-track"><div id="progressBar" class="progress-thumb"></div></div>

<div id="extraInfo" style="margin-top:10px;font-size:0.85rem"></div>

<button onclick="toggleExplain()" style="margin-top:8px;background:none;border:none;color:var(--primary);cursor:pointer">
ğŸ” ÙƒÙŠÙ ØªÙ… Ø§Ù„Ø­Ø³Ø§Ø¨ØŸ
</button>
<div id="explainBox" style="display:none;font-size:0.75rem;margin-top:5px;color:#64748b">
Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ = Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ã— 16 Ã— 20Ùª
</div>
</div>

<footer>
Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØªØµÙ…ÙŠÙ…: Ø£. Ù†ÙˆØ±Ø© Ø§Ù„Ù‚Ø«Ø§Ù…ÙŠ<br>
Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª | 1447Ù‡Ù€ - 2026Ù…
</footer>

</div>

<script>
function fixArabicNumbers(el){
const map={'Ù ':'0','Ù¡':'1','Ù¢':'2','Ù£':'3','Ù¤':'4','Ù¥':'5','Ù¦':'6','Ù§':'7','Ù¨':'8','Ù©':'9'};
el.value=el.value.replace(/[Ù -Ù©]/g,d=>map[d]).replace(/[^\d]/g,'');
calculate();
}

function resetApp(){count1.value='';count2.value='';courseHours.value=4;calculate();}
function toggleExplain(){explainBox.style.display=explainBox.style.display==="none"?"block":"none";}

function calculate(){
const hoursInPlan=parseInt(courseHours.value);
const c1=parseFloat(count1.value)||0;
const c2=parseFloat(count2.value)||0;

const absentHours=c1+(c2*2);
const totalHours=hoursInPlan*16;
const limitHours=totalHours*0.20;
const percent=(absentHours/totalHours)*100;
const remaining=limitHours-absentHours;

percentRes.innerText=percent.toFixed(1)+"%";
hoursRes.innerText=absentHours;
document.getElementById("limitHours").innerText="Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰: "+limitHours.toFixed(1)+" Ø³Ø§Ø¹Ø©";

progressBar.style.width=Math.min((absentHours/limitHours)*100,100)+"%";

let color,msg,mode;

if(percent>=20){
color="var(--danger)"; mode="danger-mode";
leftRes.innerText="ğŸš« Ø­Ø±Ù…Ø§Ù†";
msg="ØªØ¬Ø§ÙˆØ²ØªÙ Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­.";
}
else{
leftRes.innerText=remaining.toFixed(1)+" Ø³Ø§Ø¹Ø© Ù…ØªØ¨Ù‚ÙŠØ©";

if(percent>=15){color="var(--orange)"; mode="warning-mode"; msg="ğŸŸ  Ø®Ø·Ø± Ù…Ø±ØªÙØ¹";}
else if(percent>=10){color="var(--warning)"; mode="warning-mode"; msg="ğŸŸ¡ ØªÙ†Ø¨ÙŠÙ‡";}
else{color="var(--safe)"; mode="safe-mode"; msg="ğŸŸ¢ ÙˆØ¶Ø¹Ùƒ Ù…Ù…ØªØ§Ø²";}
}

progressBar.style.background=color;
statusBox.className="result-display "+mode;

extraInfo.innerHTML=`${msg}<br>
ÙŠÙ…ÙƒÙ†ÙƒÙ Ø§Ù„ØºÙŠØ§Ø¨ <b>${Math.floor(remaining)}</b> Ù…Ø­Ø§Ø¶Ø±Ø© (Ø³Ø§Ø¹Ø©)<br>
Ø£Ùˆ <b>${Math.floor(remaining/2)}</b> Ù…Ø­Ø§Ø¶Ø±Ø© (Ø³Ø§Ø¹ØªÙŠÙ†)`;
}

window.onload=calculate;
</script>
</body>
</html>